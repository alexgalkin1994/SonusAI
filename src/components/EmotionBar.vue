<template>
  <div class="flex gap-4">
    <EmotionBarButton
      v-for="emotion in emotions"
      :key="emotion.name"
      :emotion="emotion"
      @click="selectEmotion(emotion)"
    />
  </div>
</template>

<script setup lang="ts">
import type { Emotion } from '@/models/FormTypes'
import { computed, ref } from 'vue'
import EmotionBarButton from './EmotionBarButton.vue'

const emotions = ref<Emotion[]>([
  { id: 1, name: 'Happiness', emoji: 'ðŸ˜Š', selected: false },
  { id: 2, name: 'Fear', emoji: 'ðŸ˜±', selected: false },
  { id: 3, name: 'Anxiety', emoji: 'ðŸ˜Ÿ', selected: false },
  { id: 4, name: 'Anger', emoji: 'ðŸ˜ ', selected: false },
  { id: 5, name: 'Sadness', emoji: 'ðŸ˜¢', selected: false },
  { id: 6, name: 'Love', emoji: 'ðŸ’•', selected: false },
  { id: 7, name: 'Excitement', emoji: 'ðŸ¥³', selected: false },
  { id: 8, name: 'Confusion', emoji: 'ðŸ¤”', selected: false }
])

const selectedEmotions = computed(() => emotions.value.filter((e) => e.selected))

const emit = defineEmits(['selectEmotion'])

const selectEmotion = (emotion: Emotion) => {
  emotion.selected = !emotion.selected
  emit('selectEmotion', selectedEmotions)
}
</script>

<style scoped></style>
